{"id":"d9nY","dependencies":[{"name":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\repeatWhen.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\src\\internal\\operators\\repeatWhen.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\package.json","includedInParent":true,"mtime":1623693486438},{"name":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\package.json","includedInParent":true,"mtime":1623692673362},{"name":"../Subject","loc":{"line":1,"column":24},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\repeatWhen.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\Subject.js"},{"name":"../util/lift","loc":{"line":2,"column":24},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\repeatWhen.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\util\\lift.js"},{"name":"./OperatorSubscriber","loc":{"line":3,"column":35},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\repeatWhen.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\OperatorSubscriber.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.repeatWhen=u;var e=require(\"../Subject\"),r=require(\"../util/lift\"),t=require(\"./OperatorSubscriber\");function u(u){return(0,r.operate)(function(r,n){var i,c,o=!1,b=!1,s=!1,f=function(){return s&&b&&(n.complete(),!0)},p=function(){s=!1,i=r.subscribe(new t.OperatorSubscriber(n,void 0,function(){s=!0,!f()&&(c||(c=new e.Subject,u(c).subscribe(new t.OperatorSubscriber(n,function(){i?p():o=!0},function(){b=!0,f()}))),c).next()})),o&&(i.unsubscribe(),i=null,o=!1,p())};p()})}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":1,"column":87}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":89}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":93}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":103}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":117}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":119}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":127}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":143}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":145}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":38,"column":6},"generated":{"line":1,"column":177}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":186}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":188}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":191}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":198}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":1,"column":200}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":1,"column":202}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":1,"column":211}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":39,"column":18},"generated":{"line":1,"column":220}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":39,"column":26},"generated":{"line":1,"column":222}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":225}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":229}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":231}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":233}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":41,"column":20},"generated":{"line":1,"column":236}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":238}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":43,"column":29},"generated":{"line":1,"column":241}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":243}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":44,"column":25},"generated":{"line":1,"column":246}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":248}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":49,"column":26},"generated":{"line":1,"column":250}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":261}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":268}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":49,"column":50},"generated":{"line":1,"column":271}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":49,"column":73},"generated":{"line":1,"column":275}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":49,"column":84},"generated":{"line":1,"column":277}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":49,"column":96},"generated":{"line":1,"column":289}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":84,"column":10},"generated":{"line":1,"column":293}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":84,"column":35},"generated":{"line":1,"column":295}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":306}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":85,"column":23},"generated":{"line":1,"column":309}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":1,"column":311}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":87,"column":17},"generated":{"line":1,"column":313}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":87,"column":24},"generated":{"line":1,"column":315}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":325}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":88,"column":12},"generated":{"line":1,"column":329}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":331}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":88,"column":31},"generated":{"line":1,"column":350}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":88,"column":43},"generated":{"line":1,"column":357}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":88,"column":54},"generated":{"line":1,"column":359}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":89,"column":10},"generated":{"line":1,"column":370}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":89,"column":27},"generated":{"line":1,"column":373}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":95,"column":11},"generated":{"line":1,"column":376}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":55,"column":11},"generated":{"line":1,"column":382}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":56,"column":8},"generated":{"line":1,"column":386}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":56,"column":23},"generated":{"line":1,"column":388}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":56,"column":27},"generated":{"line":1,"column":392}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":56,"column":23},"generated":{"line":1,"column":394}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":402}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":60,"column":17},"generated":{"line":1,"column":404}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":60,"column":31},"generated":{"line":1,"column":407}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":417}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":61,"column":14},"generated":{"line":1,"column":421}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":423}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":62,"column":12},"generated":{"line":1,"column":442}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":1,"column":444}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":64,"column":18},"generated":{"line":1,"column":455}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":65,"column":16},"generated":{"line":1,"column":457}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":71,"column":16},"generated":{"line":1,"column":461}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":71,"column":28},"generated":{"line":1,"column":464}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":74,"column":12},"generated":{"line":1,"column":467}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":75,"column":14},"generated":{"line":1,"column":478}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":75,"column":35},"generated":{"line":1,"column":481}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":76,"column":14},"generated":{"line":1,"column":483}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":81,"column":13},"generated":{"line":1,"column":491}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":95,"column":53},"generated":{"line":1,"column":494}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":504}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":1,"column":508}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":104,"column":17},"generated":{"line":1,"column":510}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":524}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":108,"column":19},"generated":{"line":1,"column":526}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":531}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":110,"column":20},"generated":{"line":1,"column":534}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":112,"column":8},"generated":{"line":1,"column":536}},{"source":"../../../../src/internal/operators/repeatWhen.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":1,"column":542}}],"sources":{"../../../../src/internal/operators/repeatWhen.ts":"import { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\n\nimport { MonoTypeOperatorFunction } from '../types';\nimport { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\n\n/**\n * Returns an Observable that mirrors the source Observable with the exception of a `complete`. If the source\n * Observable calls `complete`, this method will emit to the Observable returned from `notifier`. If that Observable\n * calls `complete` or `error`, then this method will call `complete` or `error` on the child subscription. Otherwise\n * this method will resubscribe to the source Observable.\n *\n * ![](repeatWhen.png)\n *\n * ## Example\n * Repeat a message stream on click\n * ```ts\n * import { of, fromEvent } from 'rxjs';\n * import { repeatWhen } from 'rxjs/operators';\n *\n * const source = of('Repeat message');\n * const documentClick$ = fromEvent(document, 'click');\n *\n * source.pipe(repeatWhen(() => documentClick$)\n * ).subscribe(data => console.log(data))\n * ```\n * @see {@link repeat}\n * @see {@link retry}\n * @see {@link retryWhen}\n *\n * @param {function(notifications: Observable): Observable} notifier - Receives an Observable of notifications with\n * which a user can `complete` or `error`, aborting the repetition.\n * @return A function that returns an Observable that that mirrors the source\n * Observable with the exception of a `complete`.\n */\nexport function repeatWhen<T>(notifier: (notifications: Observable<void>) => Observable<any>): MonoTypeOperatorFunction<T> {\n  return operate((source, subscriber) => {\n    let innerSub: Subscription | null;\n    let syncResub = false;\n    let completions$: Subject<void>;\n    let isNotifierComplete = false;\n    let isMainComplete = false;\n\n    /**\n     * Checks to see if we can complete the result, completes it, and returns `true` if it was completed.\n     */\n    const checkComplete = () => isMainComplete && isNotifierComplete && (subscriber.complete(), true);\n    /**\n     * Gets the subject to send errors through. If it doesn't exist,\n     * we know we need to setup the notifier.\n     */\n    const getCompletionSubject = () => {\n      if (!completions$) {\n        completions$ = new Subject();\n\n        // If the call to `notifier` throws, it will be caught by the OperatorSubscriber\n        // In the main subscription -- in `subscribeForRepeatWhen`.\n        notifier(completions$).subscribe(\n          new OperatorSubscriber(\n            subscriber,\n            () => {\n              if (innerSub) {\n                subscribeForRepeatWhen();\n              } else {\n                // If we don't have an innerSub yet, that's because the inner subscription\n                // call hasn't even returned yet. We've arrived here synchronously.\n                // So we flag that we want to resub, such that we can ensure teardown\n                // happens before we resubscribe.\n                syncResub = true;\n              }\n            },\n            () => {\n              isNotifierComplete = true;\n              checkComplete();\n            }\n          )\n        );\n      }\n      return completions$;\n    };\n\n    const subscribeForRepeatWhen = () => {\n      isMainComplete = false;\n\n      innerSub = source.subscribe(\n        new OperatorSubscriber(subscriber, undefined, () => {\n          isMainComplete = true;\n          // Check to see if we are complete, and complete if so.\n          // If we are not complete. Get the subject. This calls the `notifier` function.\n          // If that function fails, it will throw and `.next()` will not be reached on this\n          // line. The thrown error is caught by the _complete handler in this\n          // `OperatorSubscriber` and handled appropriately.\n          !checkComplete() && getCompletionSubject().next();\n        })\n      );\n\n      if (syncResub) {\n        // Ensure that the inner subscription is torn down before\n        // moving on to the next subscription in the synchronous case.\n        // If we don't do this here, all inner subscriptions will not be\n        // torn down until the entire observable is done.\n        innerSub.unsubscribe();\n        // It is important to null this out. Not only to free up memory, but\n        // to make sure code above knows we are in a subscribing state to\n        // handle synchronous resubscription.\n        innerSub = null;\n        // We may need to do this multiple times, so reset the flags.\n        syncResub = false;\n        // Resubscribe\n        subscribeForRepeatWhen();\n      }\n    };\n\n    // Start the subscription\n    subscribeForRepeatWhen();\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"35b790e819af6108a7ab6859f4a1195e","cacheData":{"env":{}}}