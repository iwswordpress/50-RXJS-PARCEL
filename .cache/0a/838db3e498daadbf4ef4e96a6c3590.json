{"id":"z421","dependencies":[{"name":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\groupBy.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\src\\internal\\operators\\groupBy.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\package.json","includedInParent":true,"mtime":1623693486438},{"name":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\package.json","includedInParent":true,"mtime":1623692673362},{"name":"tslib","loc":{"line":1,"column":26},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\groupBy.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\tslib\\tslib.es6.js"},{"name":"../Observable","loc":{"line":2,"column":27},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\groupBy.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\Observable.js"},{"name":"../observable/from","loc":{"line":3,"column":26},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\groupBy.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\observable\\from.js"},{"name":"../Subject","loc":{"line":4,"column":24},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\groupBy.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\Subject.js"},{"name":"../util/lift","loc":{"line":5,"column":24},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\groupBy.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\util\\lift.js"},{"name":"./OperatorSubscriber","loc":{"line":6,"column":35},"parent":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\groupBy.js","resolved":"C:\\Users\\Owner\\Dropbox\\COURSES\\NDC\\50-RXJS-FORM\\RXJS-PARCEL\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\OperatorSubscriber.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.groupBy=o;var e=require(\"tslib\"),r=require(\"../Observable\"),t=require(\"../observable/from\"),n=require(\"../Subject\"),u=require(\"../util/lift\"),i=require(\"./OperatorSubscriber\");function o(e,o,s,a){return(0,u.operate)(function(u,b){var p;o&&\"function\"!=typeof o?(s=o.duration,p=o.element,a=o.connector):p=o;var f=new Map,l=function(e){f.forEach(e),e(b)},v=function(e){return l(function(r){return r.error(e)})},d=new c(b,function(u){try{var o=e(u),c=f.get(o);if(!c){f.set(o,c=a?a():new n.Subject);var l=(w=o,y=c,(h=new r.Observable(function(e){d.activeGroups++;var r=y.subscribe(e);return function(){r.unsubscribe(),0==--d.activeGroups&&d.teardownAttempted&&d.unsubscribe()}})).key=w,h);if(b.next(l),s){var m=new i.OperatorSubscriber(c,function(){c.complete(),null==m||m.unsubscribe()},void 0,void 0,function(){return f.delete(o)});d.add((0,t.innerFrom)(s(l)).subscribe(m))}}c.next(p?p(u):u)}catch(q){v(q)}var w,y,h},function(){return l(function(e){return e.complete()})},v,function(){return f.clear()});u.subscribe(d)})}var c=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.activeGroups=0,e.teardownAttempted=!1,e}return(0,e.__extends)(t,r),t.prototype.unsubscribe=function(){this.teardownAttempted=!0,0===this.activeGroups&&r.prototype.unsubscribe.call(this)},t}(i.OperatorSubscriber);"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":84}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":86}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":90}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":92}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":111}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":119}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":136}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":146}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":168}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":170}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":178}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":192}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":194}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":202}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":218}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":220}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":228}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":150,"column":6},"generated":{"line":1,"column":252}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":150,"column":16},"generated":{"line":1,"column":261}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":151,"column":2},"generated":{"line":1,"column":263}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":152,"column":2},"generated":{"line":1,"column":265}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":267}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":1,"column":269}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":156,"column":9},"generated":{"line":1,"column":272}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":156,"column":9},"generated":{"line":1,"column":279}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":156,"column":17},"generated":{"line":1,"column":281}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":156,"column":17},"generated":{"line":1,"column":283}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":156,"column":17},"generated":{"line":1,"column":292}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":156,"column":18},"generated":{"line":1,"column":301}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":156,"column":26},"generated":{"line":1,"column":303}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":157,"column":8},"generated":{"line":1,"column":306}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":157,"column":8},"generated":{"line":1,"column":310}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":158,"column":9},"generated":{"line":1,"column":312}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":158,"column":57},"generated":{"line":1,"column":315}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":158,"column":36},"generated":{"line":1,"column":334}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":9},"generated":{"line":1,"column":337}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":42},"generated":{"line":1,"column":339}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":58},"generated":{"line":1,"column":341}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":19},"generated":{"line":1,"column":350}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":42},"generated":{"line":1,"column":352}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":58},"generated":{"line":1,"column":354}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":28},"generated":{"line":1,"column":362}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":42},"generated":{"line":1,"column":364}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":161,"column":58},"generated":{"line":1,"column":366}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":159,"column":6},"generated":{"line":1,"column":377}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":159,"column":16},"generated":{"line":1,"column":379}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":165,"column":10},"generated":{"line":1,"column":381}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":165,"column":10},"generated":{"line":1,"column":385}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":165,"column":19},"generated":{"line":1,"column":387}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":165,"column":23},"generated":{"line":1,"column":391}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":168,"column":10},"generated":{"line":1,"column":395}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":168,"column":19},"generated":{"line":1,"column":397}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":168,"column":20},"generated":{"line":1,"column":406}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":1,"column":409}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":169,"column":13},"generated":{"line":1,"column":411}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":169,"column":21},"generated":{"line":1,"column":419}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":1,"column":422}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":170,"column":9},"generated":{"line":1,"column":424}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":10},"generated":{"line":1,"column":428}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":24},"generated":{"line":1,"column":430}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":25},"generated":{"line":1,"column":439}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":38},"generated":{"line":1,"column":442}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":38},"generated":{"line":1,"column":449}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":45},"generated":{"line":1,"column":451}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":46},"generated":{"line":1,"column":460}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":59},"generated":{"line":1,"column":463}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":59},"generated":{"line":1,"column":470}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":68},"generated":{"line":1,"column":472}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":175,"column":74},"generated":{"line":1,"column":478}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":184,"column":10},"generated":{"line":1,"column":484}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":184,"column":36},"generated":{"line":1,"column":486}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":184,"column":40},"generated":{"line":1,"column":490}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":185,"column":6},"generated":{"line":1,"column":492}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":186,"column":6},"generated":{"line":1,"column":494}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":186,"column":7},"generated":{"line":1,"column":503}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":190,"column":12},"generated":{"line":1,"column":506}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":191,"column":16},"generated":{"line":1,"column":510}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":191,"column":16},"generated":{"line":1,"column":514}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":191,"column":22},"generated":{"line":1,"column":516}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":191,"column":34},"generated":{"line":1,"column":518}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":193,"column":14},"generated":{"line":1,"column":521}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":193,"column":22},"generated":{"line":1,"column":523}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":193,"column":29},"generated":{"line":1,"column":525}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":193,"column":33},"generated":{"line":1,"column":529}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":194,"column":14},"generated":{"line":1,"column":532}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":194,"column":15},"generated":{"line":1,"column":536}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":194,"column":22},"generated":{"line":1,"column":538}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":12},"generated":{"line":1,"column":539}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":19},"generated":{"line":1,"column":541}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":23},"generated":{"line":1,"column":545}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":29},"generated":{"line":1,"column":547}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":37},"generated":{"line":1,"column":549}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":49},"generated":{"line":1,"column":551}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":63},"generated":{"line":1,"column":555}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":67},"generated":{"line":1,"column":559}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":196,"column":63},"generated":{"line":1,"column":561}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":201,"column":18},"generated":{"line":1,"column":570}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":201,"column":18},"generated":{"line":1,"column":574}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":257,"column":37},"generated":{"line":1,"column":577}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":201,"column":52},"generated":{"line":1,"column":579}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":257,"column":45},"generated":{"line":1,"column":581}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":201,"column":57},"generated":{"line":1,"column":583}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":258,"column":12},"generated":{"line":1,"column":586}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":258,"column":26},"generated":{"line":1,"column":588}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":258,"column":30},"generated":{"line":1,"column":592}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":258,"column":26},"generated":{"line":1,"column":594}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":258,"column":44},"generated":{"line":1,"column":605}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":258,"column":45},"generated":{"line":1,"column":614}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":259,"column":8},"generated":{"line":1,"column":617}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":259,"column":32},"generated":{"line":1,"column":619}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":260,"column":14},"generated":{"line":1,"column":634}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":260,"column":14},"generated":{"line":1,"column":638}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":260,"column":25},"generated":{"line":1,"column":640}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":260,"column":38},"generated":{"line":1,"column":642}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":260,"column":48},"generated":{"line":1,"column":652}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":261,"column":15},"generated":{"line":1,"column":655}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":261,"column":15},"generated":{"line":1,"column":662}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":262,"column":10},"generated":{"line":1,"column":673}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":262,"column":19},"generated":{"line":1,"column":675}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":266,"column":53},"generated":{"line":1,"column":689}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":266,"column":12},"generated":{"line":1,"column":694}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":266,"column":36},"generated":{"line":1,"column":696}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":267,"column":12},"generated":{"line":1,"column":710}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":267,"column":36},"generated":{"line":1,"column":712}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":268,"column":12},"generated":{"line":1,"column":731}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":268,"column":36},"generated":{"line":1,"column":733}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":271,"column":13},"generated":{"line":1,"column":751}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":271,"column":19},"generated":{"line":1,"column":755}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":272,"column":13},"generated":{"line":1,"column":757}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":204,"column":16},"generated":{"line":1,"column":760}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":202,"column":12},"generated":{"line":1,"column":763}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":202,"column":23},"generated":{"line":1,"column":765}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":202,"column":28},"generated":{"line":1,"column":770}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":204,"column":16},"generated":{"line":1,"column":773}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":204,"column":26},"generated":{"line":1,"column":775}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":205,"column":20},"generated":{"line":1,"column":776}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":205,"column":20},"generated":{"line":1,"column":780}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":205,"column":41},"generated":{"line":1,"column":782}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":205,"column":45},"generated":{"line":1,"column":786}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":205,"column":41},"generated":{"line":1,"column":788}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":211,"column":16},"generated":{"line":1,"column":807}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":212,"column":16},"generated":{"line":1,"column":809}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":215,"column":18},"generated":{"line":1,"column":820}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":215,"column":25},"generated":{"line":1,"column":822}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":216,"column":18},"generated":{"line":1,"column":833}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":216,"column":18},"generated":{"line":1,"column":839}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":216,"column":18},"generated":{"line":1,"column":842}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":216,"column":38},"generated":{"line":1,"column":844}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":219,"column":16},"generated":{"line":1,"column":864}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":222,"column":16},"generated":{"line":1,"column":871}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":224,"column":16},"generated":{"line":1,"column":873}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":224,"column":22},"generated":{"line":1,"column":884}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":224,"column":22},"generated":{"line":1,"column":891}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":224,"column":29},"generated":{"line":1,"column":893}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":224,"column":36},"generated":{"line":1,"column":900}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":14},"generated":{"line":1,"column":905}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":38},"generated":{"line":1,"column":907}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":42},"generated":{"line":1,"column":912}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":52},"generated":{"line":1,"column":914}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":52},"generated":{"line":1,"column":916}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":52},"generated":{"line":1,"column":927}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":61},"generated":{"line":1,"column":929}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":71},"generated":{"line":1,"column":933}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":228,"column":81},"generated":{"line":1,"column":943}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":233,"column":10},"generated":{"line":1,"column":948}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":233,"column":16},"generated":{"line":1,"column":950}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":233,"column":21},"generated":{"line":1,"column":955}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":233,"column":31},"generated":{"line":1,"column":957}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":233,"column":39},"generated":{"line":1,"column":959}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":233,"column":48},"generated":{"line":1,"column":962}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":234,"column":10},"generated":{"line":1,"column":965}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":234,"column":17},"generated":{"line":1,"column":971}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":235,"column":10},"generated":{"line":1,"column":974}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":235,"column":22},"generated":{"line":1,"column":976}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":257,"column":13},"generated":{"line":1,"column":979}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":257,"column":37},"generated":{"line":1,"column":983}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":257,"column":45},"generated":{"line":1,"column":985}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":258,"column":12},"generated":{"line":1,"column":987}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":239,"column":6},"generated":{"line":1,"column":990}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":239,"column":12},"generated":{"line":1,"column":1001}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":239,"column":12},"generated":{"line":1,"column":1008}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":239,"column":19},"generated":{"line":1,"column":1010}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":239,"column":20},"generated":{"line":1,"column":1019}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":239,"column":33},"generated":{"line":1,"column":1022}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":239,"column":33},"generated":{"line":1,"column":1029}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":239,"column":42},"generated":{"line":1,"column":1031}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":241,"column":6},"generated":{"line":1,"column":1045}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":246,"column":6},"generated":{"line":1,"column":1047}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":246,"column":12},"generated":{"line":1,"column":1058}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":246,"column":12},"generated":{"line":1,"column":1065}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":246,"column":19},"generated":{"line":1,"column":1067}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":250,"column":4},"generated":{"line":1,"column":1077}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":250,"column":11},"generated":{"line":1,"column":1079}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":250,"column":21},"generated":{"line":1,"column":1089}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1094}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1098}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1100}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1109}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1112}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1121}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1125}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1129}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1131}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1138}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1141}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1143}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1149}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1154}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1166}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1171}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":286,"column":2},"generated":{"line":1,"column":1178}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":286,"column":2},"generated":{"line":1,"column":1180}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":286,"column":17},"generated":{"line":1,"column":1193}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":290,"column":2},"generated":{"line":1,"column":1195}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":290,"column":2},"generated":{"line":1,"column":1197}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":290,"column":22},"generated":{"line":1,"column":1216}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1218}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":299,"column":0},"generated":{"line":1,"column":1220}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":35},"generated":{"line":1,"column":1227}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":35},"generated":{"line":1,"column":1229}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":35},"generated":{"line":1,"column":1231}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":35},"generated":{"line":1,"column":1242}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":35},"generated":{"line":1,"column":1244}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":292,"column":2},"generated":{"line":1,"column":1247}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":292,"column":2},"generated":{"line":1,"column":1249}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":292,"column":2},"generated":{"line":1,"column":1259}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":292,"column":2},"generated":{"line":1,"column":1271}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":293,"column":9},"generated":{"line":1,"column":1282}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":293,"column":9},"generated":{"line":1,"column":1287}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":293,"column":29},"generated":{"line":1,"column":1306}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":297,"column":26},"generated":{"line":1,"column":1308}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":297,"column":9},"generated":{"line":1,"column":1312}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":297,"column":9},"generated":{"line":1,"column":1317}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":297,"column":31},"generated":{"line":1,"column":1331}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":297,"column":31},"generated":{"line":1,"column":1333}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":297,"column":37},"generated":{"line":1,"column":1343}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":297,"column":48},"generated":{"line":1,"column":1355}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":297,"column":48},"generated":{"line":1,"column":1360}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":299,"column":0},"generated":{"line":1,"column":1367}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1369}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":35},"generated":{"line":1,"column":1370}},{"source":"../../../../src/internal/operators/groupBy.ts","name":null,"original":{"line":282,"column":0},"generated":{"line":1,"column":1372}}],"sources":{"../../../../src/internal/operators/groupBy.ts":"import { Observable } from '../Observable';\nimport { innerFrom } from '../observable/from';\nimport { Subject } from '../Subject';\nimport { ObservableInput, Observer, OperatorFunction, SubjectLike } from '../types';\nimport { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\n\ninterface BasicGroupByOptions<K, T> {\n  element?: undefined;\n  duration?: (grouped: GroupedObservable<K, T>) => ObservableInput<any>;\n  connector?: () => SubjectLike<T>;\n}\n\ninterface GroupByOptionsWithElement<K, E, T> {\n  element: (value: T) => E;\n  duration?: (grouped: GroupedObservable<K, E>) => ObservableInput<any>;\n  connector?: () => SubjectLike<E>;\n}\n\nexport function groupBy<T, K>(key: (value: T) => K, options: BasicGroupByOptions<K, T>): OperatorFunction<T, GroupedObservable<K, T>>;\n\nexport function groupBy<T, K, E>(\n  key: (value: T) => K,\n  options: GroupByOptionsWithElement<K, E, T>\n): OperatorFunction<T, GroupedObservable<K, E>>;\n\nexport function groupBy<T, K extends T>(\n  key: (value: T) => value is K\n): OperatorFunction<T, GroupedObservable<true, K> | GroupedObservable<false, Exclude<T, K>>>;\n\nexport function groupBy<T, K>(key: (value: T) => K): OperatorFunction<T, GroupedObservable<K, T>>;\n\n/**\n * @deprecated use the options parameter instead.\n */\nexport function groupBy<T, K>(\n  key: (value: T) => K,\n  element: void,\n  duration: (grouped: GroupedObservable<K, T>) => Observable<any>\n): OperatorFunction<T, GroupedObservable<K, T>>;\n\n/**\n * @deprecated use the options parameter instead.\n */\nexport function groupBy<T, K, R>(\n  key: (value: T) => K,\n  element?: (value: T) => R,\n  duration?: (grouped: GroupedObservable<K, R>) => Observable<any>\n): OperatorFunction<T, GroupedObservable<K, R>>;\n\n/**\n * Groups the items emitted by an Observable according to a specified criterion,\n * and emits these grouped items as `GroupedObservables`, one\n * {@link GroupedObservable} per group.\n *\n * ![](groupBy.png)\n *\n * When the Observable emits an item, a key is computed for this item with the key function.\n *\n * If a {@link GroupedObservable} for this key exists, this {@link GroupedObservable} emits. Otherwise, a new\n * {@link GroupedObservable} for this key is created and emits.\n *\n * A {@link GroupedObservable} represents values belonging to the same group represented by a common key. The common\n * key is available as the `key` field of a {@link GroupedObservable} instance.\n *\n * The elements emitted by {@link GroupedObservable}s are by default the items emitted by the Observable, or elements\n * returned by the element function.\n *\n * ## Examples\n *\n * ### Group objects by id and return as array\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { mergeMap, groupBy, reduce } from 'rxjs/operators';\n *\n * of(\n *   {id: 1, name: 'JavaScript'},\n *   {id: 2, name: 'Parcel'},\n *   {id: 2, name: 'webpack'},\n *   {id: 1, name: 'TypeScript'},\n *   {id: 3, name: 'TSLint'}\n * ).pipe(\n *   groupBy(p => p.id),\n *   mergeMap((group$) => group$.pipe(reduce((acc, cur) => [...acc, cur], [])))\n * )\n * .subscribe(p => console.log(p));\n *\n * // displays:\n * // [ { id: 1, name: 'JavaScript'},\n * //   { id: 1, name: 'TypeScript'} ]\n * //\n * // [ { id: 2, name: 'Parcel'},\n * //   { id: 2, name: 'webpack'} ]\n * //\n * // [ { id: 3, name: 'TSLint'} ]\n * ```\n *\n * ### Pivot data on the id field\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { groupBy, map, mergeMap, reduce } from 'rxjs/operators';\n *\n * of(\n *   { id: 1, name: 'JavaScript' },\n *   { id: 2, name: 'Parcel' },\n *   { id: 2, name: 'webpack' },\n *   { id: 1, name: 'TypeScript' },\n *   { id: 3, name: 'TSLint' }\n * )\n *   .pipe(\n *     groupBy(p => p.id, p => p.name),\n *     mergeMap(group$ =>\n *       group$.pipe(reduce((acc, cur) => [...acc, cur], [`${group$.key}`]))\n *     ),\n *     map(arr => ({ id: parseInt(arr[0], 10), values: arr.slice(1) }))\n *  )\n *  .subscribe(p => console.log(p));\n *\n * // displays:\n * // { id: 1, values: [ 'JavaScript', 'TypeScript' ] }\n * // { id: 2, values: [ 'Parcel', 'webpack' ] }\n * // { id: 3, values: [ 'TSLint' ] }\n * ```\n *\n * @param key A function that extracts the key\n * for each item.\n * @param element A function that extracts the\n * return element for each item.\n * @param duration\n * A function that returns an Observable to determine how long each group should\n * exist.\n * @param connector Factory function to create an\n * intermediate Subject through which grouped elements are emitted.\n * @return A function that returns an Observable that emits GroupedObservables,\n * each of which corresponds to a unique key value and each of which emits\n * those items from the source Observable that share that key value.\n *\n * @deprecated Use the options parameter instead.\n */\nexport function groupBy<T, K, R>(\n  key: (value: T) => K,\n  element?: (value: T) => R,\n  duration?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n  connector?: () => Subject<R>\n): OperatorFunction<T, GroupedObservable<K, R>>;\n\n// Impl\nexport function groupBy<T, K, R>(\n  keySelector: (value: T) => K,\n  elementOrOptions?: ((value: any) => any) | void | BasicGroupByOptions<K, T> | GroupByOptionsWithElement<K, R, T>,\n  duration?: (grouped: GroupedObservable<any, any>) => ObservableInput<any>,\n  connector?: () => SubjectLike<any>\n): OperatorFunction<T, GroupedObservable<K, R>> {\n  return operate((source, subscriber) => {\n    let element: ((value: any) => any) | void;\n    if (!elementOrOptions || typeof elementOrOptions === 'function') {\n      element = elementOrOptions;\n    } else {\n      ({ duration, element, connector } = elementOrOptions);\n    }\n\n    // A lookup for the groups that we have so far.\n    const groups = new Map<K, SubjectLike<any>>();\n\n    // Used for notifying all groups and the subscriber in the same way.\n    const notify = (cb: (group: Observer<any>) => void) => {\n      groups.forEach(cb);\n      cb(subscriber);\n    };\n\n    // Used to handle errors from the source, AND errors that occur during the\n    // next call from the source.\n    const handleError = (err: any) => notify((consumer) => consumer.error(err));\n\n    // Capturing a reference to this, because we need a handle to it\n    // in `createGroupedObservable` below. This is what we use to\n    // subscribe to our source observable. This sometimes needs to be unsubscribed\n    // out-of-band with our `subscriber` which is the downstream subscriber, or destination,\n    // in cases where a user unsubscribes from the main resulting subscription, but\n    // still has groups from this subscription subscribed and would expect values from it\n    // Consider:  `source.pipe(groupBy(fn), take(2))`.\n    const groupBySourceSubscriber = new GroupBySubscriber(\n      subscriber,\n      (value: T) => {\n        // Because we have to notify all groups of any errors that occur in here,\n        // we have to add our own try/catch to ensure that those errors are propagated.\n        // OperatorSubscriber will only send the error to the main subscriber.\n        try {\n          const key = keySelector(value);\n\n          let group = groups.get(key);\n          if (!group) {\n            // Create our group subject\n            groups.set(key, (group = connector ? connector() : new Subject<any>()));\n\n            // Emit the grouped observable. Note that we can't do a simple `asObservable()` here,\n            // because the grouped observable has special semantics around reference counting\n            // to ensure we don't sever our connection to the source prematurely.\n            const grouped = createGroupedObservable(key, group);\n            subscriber.next(grouped);\n\n            if (duration) {\n              const durationSubscriber = new OperatorSubscriber(\n                // Providing the group here ensures that it is disposed of -- via `unsubscribe` --\n                // wnen the duration subscription is torn down. That is important, because then\n                // if someone holds a handle to the grouped observable and tries to subscribe to it\n                // after the connection to the source has been severed, they will get an\n                // `ObjectUnsubscribedError` and know they can't possibly get any notifications.\n                group as any,\n                () => {\n                  // Our duration notified! We can complete the group.\n                  // The group will be removed from the map in the teardown phase.\n                  group!.complete();\n                  durationSubscriber?.unsubscribe();\n                },\n                // Completions are also sent to the group, but just the group.\n                undefined,\n                // Errors on the duration subscriber are sent to the group\n                // but only the group. They are not sent to the main subscription.\n                undefined,\n                // Teardown: Remove this group from our map.\n                () => groups.delete(key)\n              );\n\n              // Start our duration notifier.\n              groupBySourceSubscriber.add(innerFrom(duration(grouped)).subscribe(durationSubscriber));\n            }\n          }\n\n          // Send the value to our group.\n          group.next(element ? element(value) : value);\n        } catch (err) {\n          handleError(err);\n        }\n      },\n      // Source completes.\n      () => notify((consumer) => consumer.complete()),\n      // Error from the source.\n      handleError,\n      // Free up memory.\n      // When the source subscription is _finally_ torn down, release the subjects and keys\n      // in our groups Map, they may be quite large and we don't want to keep them around if we\n      // don't have to.\n      () => groups.clear()\n    );\n\n    // Subscribe to the source\n    source.subscribe(groupBySourceSubscriber);\n\n    /**\n     * Creates the actual grouped observable returned.\n     * @param key The key of the group\n     * @param groupSubject The subject that fuels the group\n     */\n    function createGroupedObservable(key: K, groupSubject: SubjectLike<any>) {\n      const result: any = new Observable<T>((groupSubscriber) => {\n        groupBySourceSubscriber.activeGroups++;\n        const innerSub = groupSubject.subscribe(groupSubscriber);\n        return () => {\n          innerSub.unsubscribe();\n          // We can kill the subscription to our source if we now have no more\n          // active groups subscribed, and a teardown was already attempted on\n          // the source.\n          --groupBySourceSubscriber.activeGroups === 0 &&\n            groupBySourceSubscriber.teardownAttempted &&\n            groupBySourceSubscriber.unsubscribe();\n        };\n      });\n      result.key = key;\n      return result;\n    }\n  });\n}\n\n/**\n * This was created because groupBy is a bit unique, in that emitted groups that have\n * subscriptions have to keep the subscription to the source alive until they\n * are torn down.\n */\nclass GroupBySubscriber<T> extends OperatorSubscriber<T> {\n  /**\n   * The number of actively subscribed groups\n   */\n  activeGroups = 0;\n  /**\n   * Whether or not teardown was attempted on this subscription.\n   */\n  teardownAttempted = false;\n\n  unsubscribe() {\n    this.teardownAttempted = true;\n    // We only kill our subscription to the source if we have\n    // no active groups. As stated above, consider this scenario:\n    // source$.pipe(groupBy(fn), take(2)).\n    this.activeGroups === 0 && super.unsubscribe();\n  }\n}\n\n/**\n * An observable of values that is the emitted by the result of a {@link groupBy} operator,\n * contains a `key` property for the grouping.\n */\nexport interface GroupedObservable<K, T> extends Observable<T> {\n  /**\n   * The key value for the grouped notifications.\n   */\n  readonly key: K;\n}\n"},"lineCount":null}},"error":null,"hash":"77131811ef7c953650e45cddb6717f1f","cacheData":{"env":{}}}